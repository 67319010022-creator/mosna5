<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Parking </title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">

</head>

<body>

    <div class="container">
        <h1 class="center-title">
            <div class="logo-icon"><i class="fas fa-parking"></i></div>
            ระบบจอดรถอัจฉริยะ
        </h1>
        <header>

            <!-- <div class="status-bar">
                <span id="connection-status">
                    <i class="fas fa-wifi"></i> Online
                </span>
                <div id="time-value">Loading...</div>
            </div> -->
        </header>
        
        <div class="data-grid">
            <div class="card">
                <div class="card-icon"><i class="fas fa-tachometer-alt"></i></div>
                <div class="card-info">
                    <h3>ความกดอากาศ</h3>
                    <p class="data-value" id="pressure-value">-</p>
                    <span class="unit">hPa</span>
                </div>
            </div>

            <div class="card">
                <div class="card-icon" style="background: #fff1f2; color: #ef4444;">
                    <i class="fas fa-thermometer-half"></i>
                </div>
                <div class="card-info">
                    <h3>อุณหภูมิ</h3>
                    <p class="data-value" id="temp-value">-</p>
                    <span class="unit">°C</span>
                </div>
            </div>

            <div class="card">
                <div class="card-icon"><i class="fas fa-tint"></i></div>
                <div class="card-info">
                    <h3>ความชื้น</h3>
                    <p class="data-value" id="humid-value">-</p>
                    <span class="unit">%</span>
                </div>
            </div>

            <div class="card">
                <div class="card-icon" style="background: #f0fdf4; color: #10b981;"><i class="fas fa-leaf"></i></div>
                <div class="card-info">
                    <h3>คุณภาพอากาศ</h3>
                    <p class="data-value" id="air-value">-</p>
                    <span class="unit">µg/m³</span>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="camera-section">
                <div class="section-header">
                    <i class="fas fa-video"></i> ภาพสดจากกล้อง (Zone A)
                </div>

                <div class="main-camera-view">
                    <img class="main-realtime-feed" id="main-camera-feed" src="http://192.168.21.11:5000
/video_feed"
                        onerror="this.src='https://placehold.co/800x450/f3f4f6/9ca3af?text=Camera+Offline';"
                        alt="Camera Feed">

                    <div class="parking-overlays">
                        <div class="divider available" id="p-01"><i class="fas fa-check-circle"></i> P-01</div>
                        <div class="divider available" id="p-02"><i class="fas fa-check-circle"></i> P-02</div>
                        <div class="divider occupied" id="p-03"><i class="fas fa-check-circle"></i> P-03</div>
                        <!-- <div class="divider available" id="p-04"><i class="fas fa-check-circle"></i> P-04</div>
                        <div class="divider available" id="p-05"><i class="fas fa-check-circle"></i> P-05</div> -->
                    </div>
                </div>
            </div>

            <div class="control-section">
                <div class="section-header">
                    <i class="fas fa-sliders-h"></i> แผงควบคุม
                </div>

                <button onclick="controlCamera('auto')" class="btn-auto">
                    <i class="fas fa-magic" style="margin-right: 8px;"></i> หมุนกล้องอัตโนมัติ
                </button>

                <div style="text-align: center; margin-bottom: 10px; font-size: 0.9rem; color: #6b7280;">
                    ควบคุมทิศทางกล้อง</div>
                <div class="joystick-ui">
                    <button onclick="controlCamera('left')" class="btn-cam"><i class="fas fa-chevron-left"></i></button>
                    <button onclick="controlCamera('center')" class="btn-cam main-btn">กลาง</button>
                    <button onclick="controlCamera('right')" class="btn-cam"><i
                            class="fas fa-chevron-right"></i></button>
                </div>
            </div>
        </div>
    </div>


    <script src="script.js"></script>
</body>

</html>